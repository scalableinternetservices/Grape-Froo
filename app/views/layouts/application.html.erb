<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <title><%= full_title(yield(:title)) %></title>
    <%= csrf_meta_tags %>

    <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
  </head>

  <body>
    <% if notice %>
    <div class="alert alert-success alert-top" role="alert">
      <button type="button" class="close" data-dismiss="alert">×</button>
      <%= notice %>
    </div>
    <% end %>
    <% if alert %>
    <div class="alert alert-danger alert-top" role="alert">
      <button type="button" class="close" data-dismiss="alert">×</button>
      <%= alert %>
    </div>
    <% end %>
    <nav class="navbar navbar-default navbar-static-top">
      <div class="container-fluid">
        <div class="navbar-header" id="top-nav-header">
          <button type="button" class="navbar-toggle collapsed" id="top-nav-toggle"
                                data-toggle="collapse" data-target="#nav-collapse"
                                                       aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <%= link_to(image_tag("genmeme_logo.png", alt: "GenMeme logo", id:
                                "logo"), root_path, :class => "navbar-brand") %>
        </div>
        <div class="collapse navbar-collapse" id="nav-collapse">
          <form class="navbar-form navbar-left">
            <div class="form-group">
              <input type="text" class="form-control" id="searchbar" placeholder="Search memes">
            </div>
            <button type="submit" class="btn btn-default">Submit</button>
          </form>
          <ul class="nav navbar-right navbar-nav">
            <% if user_signed_in? %>
              <li><span class="navbar-text">Signed in as <%= current_user.username %></span></li>
              <li><%= link_to "Logout", destroy_user_session_path, method: :delete, class: "navbar-link" %></li>
            <% else %>
              <li><%= link_to "Sign Up", new_user_registration_path, class: "navbar-link" %></li>
              <li><%= link_to "Login", new_user_session_path, class: "navbar-link" %></li>
          <% end %>
          </ul>
        </div>
      </div>
    </nav>
    <div class="container-fluid">
      <div class="row">
        <div class="col-fixed" id="sidenav">
          <div class="btn-group-vertical center-block" id="create-btn-div">
            <a href="#" class="btn btn-success">Create Meme</a>
          </div>
          <ul class="nav nav-pills nav-stacked">
            <li role="presentation" id="nav-recent"><%= link_to("Recent", root_path) %></li>
            <li role="presentation" id="nav-popular"><a href="#">Popular</a></li>
            <li role="presentation" id="nav-templates"><%= link_to("Templates", templates_path) %></li>
            <li role="presentation"><a href="#">Random</a></li>
            <li role="presentation" id="nav-profile"><%= link_to("Your Profile", edit_user_registration_path) %></li>
          </ul>
        </div>
        <div class="col-fluid">
          <%= yield %>
        </div>
      </div>
    </div>
    <%= yield :footerjs %>
  </body>
</html>
