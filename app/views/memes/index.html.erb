<p id="notice"><%= notice %></p>

<h1>Memes</h1>

<table>
  <thead>
    <tr>
      <th>Url</th>
      <th>Top caption</th>
      <th>Bottom caption</th>
      <th>Template</th>
      <th>User</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @memes.each do |meme| %>
      <tr>
        <td><%= meme.image.url %></td>
        <td><%= meme.top_caption %></td>
        <td><%= meme.bottom_caption %></td>
        <td><%= meme.template %></td>
        <td><%= meme.user %></td>
        <td><%= link_to 'Show', meme %></td>
        <td><%= link_to 'Edit', edit_meme_path(meme) %></td>
        <td><%= link_to 'Destroy', meme, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<div class="row">

  <% @memes.each do |meme| %>
    <div class="col-xs-6 col-sm-4 col-md-3 card">
      <div class="thumbnail">
        <%= link_to(image_tag(meme.url, :class => "meme-img", :data => { :memeid => meme.id }),
               meme, :title => meme.top_caption) %>
      </div>

      <%= button_tag(type: 'button', class: ["btn", "btn-default", "up-vote-button"], data: { memeid: meme.id }) do
          content_tag(:span, "", class: ["glyphicon", "glyphicon-arrow-up"]) 
          end
      %>

      <%= button_tag(type: 'button', class: ["btn", "btn-default", "down-vote-button"], data: { memeid: meme.id }) do
          content_tag(:span, "", class: ["glyphicon", "glyphicon-arrow-down"]) 
          end
      %>
    </div>
  <% end %>

</div>

<br>

<%= link_to 'New Meme', new_meme_path %>
<% content_for :footerjs do %>
  <script type="text/javascript">
    $("#nav-recent").addClass("active");
  </script>
<% end %>
